<!DOCTYPE html>
<html lang="pt">
<head>
  <!-- Metadados -->
  <meta charset="UTF-8" />
  <title>IMTLA - Início</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />
  <link rel="icon" href="/icon-512.png.png">
  <!-- CSS local -->
  <link rel="stylesheet" href="style.css" />
  <!-- Biblioteca FullCalendar -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css" rel="stylesheet" />
  <!-- Ícones Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>

  <!-- =======================
       CABEÇALHO DO APLICATIVO
       ======================= -->
  <header>
    <!-- Logo do IMTLA -->
    <img src="Andaluz.jpg" alt="Logo IMTLA" class="logo-circular" />

    <!-- Ícones superiores (perfil e calendário) -->
    <div class="top-icons">
      <div class="perfil-icone" id="perfilIcon" title="Perfil" onclick="showSection('perfil')">
        <i class="fas fa-user"></i>
      </div>
      <div class="calendario-icone" title="Calendário" onclick="showSection('calendario')">
        <i class="fas fa-calendar-alt"></i>
      </div>
    </div>

    <!-- Botão de voltar -->
    <button class="btn-voltar" onclick="voltarParaAnterior()">
      <i class="fas fa-arrow-left"></i>
    </button>
  </header>

  <!-- ==========================
       CONTEÚDO PRINCIPAL
       ========================== -->
  <main>

    <!-- Seção: Gráfico de Notas -->
    <section id="notas" class="secao ativa">
      <h2>Notas do 1º Trimestre</h2>
      <canvas id="graficoNotas"></canvas>
    </section>

    <!-- Seção: Localização -->
    <section id="localizacao" class="secao">
      <h2>Localização</h2>
      <p><strong>Bairro Rocha Pinto</strong>, Av 21 de Janeiro, Luanda - Angola</p>
      <iframe width="100%" height="250" style="border:0;" loading="lazy" allowfullscreen
        src="https://www.google.com/maps?q=-8.849265,13.248852&z=15&output=embed"></iframe>
    </section>

    <!-- Seção: Boletim Escolar -->
    <section id="boletim" class="secao">
      <h2>Consultar Boletim</h2>
      <form onsubmit="mostrarBoletim(event)">
        <input type="text" id="idAluno" placeholder="Digite o ID do Aluno" required />
        <button type="submit">Ver Boletim</button>
      </form>
      <div id="resultadoBoletim"></div>
    </section>

    <!-- Seção: Calendário de Eventos -->
    <section id="calendario" class="secao">
      <h2>Calendário de Eventos</h2>
      <div class="container">
        <label for="data">Escolha uma data:</label>
        <input type="date" id="data" />
        
        <label for="nota">Escreva uma nota:</label>
        <textarea id="nota" rows="4" placeholder="Ex: Aniversário do João, reunião, etc."></textarea>
        
        <button onclick="adicionarNota()">Salvar Nota</button>

        <div class="notas" id="listaNotas">
          <!-- Notas do calendário aparecerão aqui -->
        </div>
      </div>
    </section>

    <!-- Seção: Perfil do Usuário -->
    <section id="perfil" class="secao">
      <h2>Perfil do Usuário</h2>
      <p>Nome: Leonardo Daniel Vihemba</p>
      <p>Email: leonardodanielvihemba@gmail.com</p>
      <p>Perfil: Aluno</p>

      <!-- Troca de foto de perfil -->
      <label for="fotoPerfilInput" style="cursor:pointer; color:#007bff; text-decoration:underline;">
        Trocar Foto de Perfil
      </label>
      <input type="file" accept="image/*" id="fotoPerfilInput" style="display:none" onchange="trocarFotoPerfil(event)" />
      <br />

      <!-- Botão de logout -->
      <button class="logout-btn" onclick="logout()">Sair</button>
    </section>
  </main>

  <!-- ==========================
       MENU INFERIOR DE NAVEGAÇÃO
       ========================== -->
  <nav class="menu-icone">
    <button onclick="showSection('notas')">
      <i class="fas fa-chart-line"></i><span>Notas</span>
    </button>
    <button onclick="abrirWhatsapp()">
      <i class="fab fa-whatsapp" style="color: #25d366;"></i><span>WhatsApp</span>
    </button>
    <button onclick="showSection('localizacao')">
      <i class="fas fa-map-marker-alt"></i><span>Mapa</span>
    </button>
    <button onclick="showSection('boletim')">
      <i class="fas fa-file-alt"></i><span>Boletim</span>
    </button>
    <button onclick="window.location.href='mailto:leonardodanielvihemba@gmail.com'">
      <i class="fas fa-envelope"></i><span>Email</span>
    </button>
  </nav>

  <!-- =======================
       BOTÃO FLUTUANTE WHATSAPP
       ======================= -->
  <a href="https://wa.me/244946605295" class="whatsapp-float" target="_blank" aria-label="Abrir WhatsApp">
    <i class="fab fa-whatsapp"></i>
  </a>

  <!-- =======================
       BIBLIOTECAS E SCRIPTS
       ======================= -->

  <!-- FullCalendar -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.js"></script>

  <!-- Chart.js (Gráficos) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>

  <!-- Script principal da aplicação -->
  <script src="main.js"></script>

</body>
</html>
